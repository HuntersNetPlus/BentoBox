<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Торты на заказ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #17212b;
  color: white;
}

.app {
  max-width: 390px;
  min-height: 100vh;
  margin: 0 auto;
  padding: 16px;
}

/* ===== ЛОГО ===== */
.header {
  text-align: center;
  margin-bottom: 15px;
}
.header img {
  width: 850px;
  max-width: 100%;
  display: block;
  margin: 0 auto;
  mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%),
              linear-gradient(to bottom, transparent 0%, black 5%, black 95%, transparent 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%),
                      linear-gradient(to bottom, transparent 0%, black 5%, black 95%, transparent 100%);
}

/* ===== ТЕКСТ ===== */
.faq-block {
  text-align: center;
  margin-bottom: 20px;
}
.faq-content1 {
  background: #1d2b3a;
  border: 1px solid #6ab2f2;
  border-radius: 4px;
  padding: 8px;
  font-size: 15px;
  line-height: 1.4;
  color: #ffffff;
}
.faq-content1 img {
  width: 22px;
  height: 22px;
  vertical-align: middle;
}

/* ===== ДАШБОРД ===== */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  max-width: 420px;
  margin: 0 auto 25px;
}
.stat-card {
  background: #1d2b3a;
  border-radius: 10px;
  padding: 14px 8px;
  text-align: center;
  color: #6ab2f2;
}
.stat-card img {
  width: 50px;
  height: 50px;
  margin-bottom: 8px;
}
.stat-number {
  font-size: 18px;
  font-weight: bold;
  color: #ffffff;
}
.stat-label {
  font-size: 13px;
  opacity: 0.85;
}

/* ===== КНОПКИ ===== */
.bottom-actions {
  display: flex;
  gap: 6px;
}
/* Общий стиль кнопок */
/* Общий стиль для action-btn */
.action-btn {
  flex: 1;
  padding: 14px 0;
  text-align: center;
  font-size: 15px;
  font-weight: 600;
  text-decoration: none;
  color: #fff;
  border-radius: 6px;
  transition: transform 0.15s ease;
  border: none;
}

/* Назад в каталог — синий градиент, как Telegram */
.back-btn {
  background: linear-gradient(135deg, #0088cc, #00c6ff);
}

/* Заказать — зелёно-жёлтый градиент */
.order-btn {
  background: linear-gradient(135deg, #6af27d, #feda75);
}

/* Анимация нажатия для обеих кнопок */
.action-btn:active {
  transform: scale(0.96);
}


/* Telegram — синий градиент */
.telegram-btn {
  background: linear-gradient(135deg, #0088cc, #00c6ff);
  border: none;
}
.telegram-btn:hover {
  transform: scale(1.05);
}

/* Instagram — розово-жёлтый градиент */
.instagram-btn {
  background: linear-gradient(135deg, #f58529, #dd2a7b, #feda75);
  border: none;
}
.instagram-btn:hover {
  transform: scale(1.05);
}

.action-btn:active { transform: scale(0.96); }


/* ===== ЭКРАНЫ ===== */
.screen { display: none; }
.screen.active { display: block; }

/* ===== КНОПКА В КАТАЛОГ ===== */
.catalog-btn {
  width: 100%;
  padding: 14px 0;
  margin-bottom: 10px;
  text-align: center;
  font-size: 15px;
  font-weight: 600;
  color: #6af27d;
  text-decoration: none;
  background: #1d3a22;
  border: 1px solid #6af27d;
  border-radius: 6px;
  cursor: pointer;
  transition: transform 0.15s ease, background 0.3s ease;
}
.catalog-btn:active { transform: scale(0.96); }
.catalog-btn:hover { background: #24502f; }

/* ===== КАТАЛОГ ===== */
.catalog-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
}
.catalog-card {
  background: #1d2b3a;
  border-radius: 10px;
  padding: 14px 6px;
  text-align: center;
  color: #6ab2f2;
  cursor: pointer;
  transition: transform 0.15s ease, background 0.3s ease;
}
.catalog-card:hover { background: #22364a; }
.catalog-card:active { transform: scale(0.95); }
.catalog-card img {
  width: 42px;
  height: 42px;
  margin-bottom: 6px;
}
.catalog-card span { display: block; font-size: 13px; }




/* ===== ГАЛЕРЕЯ ТОРТОВ ===== */
.gallery-container {
  max-width: 600px;
  margin: 16px auto;
}

:root {
  --card-width: 200px;
  --card-aspect: 1.5;
  --card-rotation-1: -5deg;
  --card-rotation-2: 0deg;
  --card-rotation-3: 5deg;
  --card-offset-x: 10px;
  --card-offset-y: 15px;
  --card-border: 2px;
  --card-radius: 10px;
}

.photo-stack {
  position: relative;
  width: 100%;
  max-width: var(--card-width);
  height: calc(var(--card-width) * var(--card-aspect));
  margin: 0 auto;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.photo-stack:hover {
  transform: scale(1.02);
}

.photo-stack-item {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: var(--card-radius);
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.35);
  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  background: transparent;
  border: none;
}

.photo-stack-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.photo-stack-item:nth-child(1) {
  z-index: 3;
  transform: rotate(var(--card-rotation-1)) translate(calc(var(--card-offset-x) * -0.8), calc(var(--card-offset-y) * -0.8));
}

.photo-stack-item:nth-child(2) {
  z-index: 2;
  transform: rotate(var(--card-rotation-2)) translate(calc(var(--card-offset-x) * 0.4), calc(var(--card-offset-y) * 0.4));
}

.photo-stack-item:nth-child(3) {
  z-index: 1;
  transform: rotate(var(--card-rotation-3)) translate(var(--card-offset-x), var(--card-offset-y));
  opacity: 0.9;
}

/* Анимация раздвигания */
.photo-stack.opening .photo-stack-item:nth-child(1) {
  transform: rotate(-5deg) translate(calc(var(--card-offset-x) * 6), calc(var(--card-offset-y) * -0.5));
  opacity: 1;
  transition: all 0.4s ease;
}

.photo-stack.opening .photo-stack-item:nth-child(2) {
  transform: rotate(3deg) translate(calc(var(--card-offset-x) * -7), calc(var(--card-offset-y) * -0.3));
  opacity: 1;
  transition: all 0.4s ease;
}

.photo-stack.opening .photo-stack-item:nth-child(3) {
  transform: rotate(-2deg) translate(0, calc(var(--card-offset-y) * -0.7));
  opacity: 1;
  transition: all 0.4s ease;
}

/* Анимация закрытия */
.photo-stack.closing .photo-stack-item:nth-child(1) {
  transform: rotate(-5deg) translate(calc(var(--card-offset-x) * 6), calc(var(--card-offset-y) * -0.5));
  opacity: 1;
  transition: all 0.4s ease;
}

.photo-stack.closing .photo-stack-item:nth-child(2) {
  transform: rotate(3deg) translate(calc(var(--card-offset-x) * -7), calc(var(--card-offset-y) * -0.3));
  opacity: 1;
  transition: all 0.4s ease;
}

.photo-stack.closing .photo-stack-item:nth-child(3) {
  transform: rotate(-2deg) translate(0, calc(var(--card-offset-y) * -0.7));
  opacity: 1;
  transition: all 0.4s ease;
}

/* Lightbox */
.cake-lightbox {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0);
  backdrop-filter: blur(0);
  -webkit-backdrop-filter: blur(0);
  z-index: 9999;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.cake-lightbox.active {
  display: flex;
  background: rgba(0,0,0,0.35);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.cake-lightbox-image-container {
  position: relative;
  width: 50%;
  max-width: 280px;
  aspect-ratio: 2 / 3;
  max-height: 90vh;
  margin: 0 auto;
  opacity: 0;
  transform: scale(0.85);
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.cake-lightbox.active .cake-lightbox-image-container {
  opacity: 1;
  transform: scale(1);
}

.cake-lightbox-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 20px;
}

.cake-lightbox-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 48px;
  height: 48px;
  background: rgba(255,255,255,0.1);
  border: none;
  border-radius: 8px;
  color: #fff;
  font-size: 26px;
  cursor: pointer;
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 10;
}

.cake-lightbox.active .cake-lightbox-arrow {
  opacity: 1;
}

.cake-lightbox-arrow:hover {
  background: rgba(255,255,255,0.2);
}

.cake-lightbox-arrow.prev { left: 20px; }
.cake-lightbox-arrow.next { right: 20px; }

@media (max-width: 768px) {
  .cake-lightbox-image-container {
    width: 85%;
  }
}

.bottom-actions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
}

.back-btn {
  padding: 12px 16px;
  background: linear-gradient(90deg, #4a90e2, #3571c6); /* синий градиент */
  color: white;
  border: none;
  border-radius: 8px;
  flex: 0 0 auto; /* фиксированная ширина по содержимому */
  font-weight: 600;
  transition: transform 0.15s ease;
}

.order-btn {
  flex: 1; /* занимает всё оставшееся место */
  padding: 12px 0;
  background: linear-gradient(90deg, #a8ff78, #78ffd6); /* зелёно-жёлтый градиент */
  color: white;
  border-radius: 8px;
  text-align: center;
  text-decoration: none;
  font-weight: 600;
  transition: transform 0.15s ease;
}

.back-btn:active, .order-btn:active {
  transform: scale(0.96);
}

.top-row {
  display: flex;
  width: 100%;
  margin-bottom: 12px;
}

.back-btn {
  flex: 1; /* занимает половину экрана */
  padding: 12px;
  background: linear-gradient(90deg, #4a90e2, #3571c6);
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  transition: transform 0.15s ease;
}

.back-btn:active {
  transform: scale(0.96);
}

.cake-title {
  flex: 1; /* вторая половина */
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 700;
  color: white;
  text-align: center;
}

.order-btn {
  display: block;
  width: 100%;
  padding: 14px 0;
  margin-top: 12px;
  background: linear-gradient(90deg, #a8ff78, #78ffd6);
  color: white;
  border: none;
  border-radius: 8px;
  text-align: center;
  font-weight: 600;
  transition: transform 0.15s ease;
}

.order-btn:active {
  transform: scale(0.96);
}

  

/* ===== ЛОАДЕР ===== */
.loader {
  position: fixed;
  inset: 0;
  background: #17212b;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.35s ease;
}
.loader.active { opacity: 1; pointer-events: all; }
.loader img { width: 150px; height: 150px; }
</style>
</head>
<body>

<!-- ЛОАДЕР -->
<div id="loader" class="loader active">
  <img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Objects/Hourglass%20Done.webp?raw=true" alt="Загрузка">
</div>

<div class="app">

  <!-- ПЕРВЫЙ ЭКРАН -->
  <div class="screen active" id="mainScreen">
    <div class="header">
      <img src="https://github.com/HuntersNetPlus/PvZ/blob/main/AV_1-ezgif.com-video-to-webp-converter.webp?raw=true">
    </div>

    <div class="faq-block">
      <div class="faq-content1">
        <img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food%20and%20Drink/Cookie.webp?raw=true">
        Торты на заказ — индивидуальный дизайн и натуральные ингредиенты
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food%20and%20Drink/Pancakes.webp?raw=true">
        <div class="stat-number">500+</div>
        <div class="stat-label">тортов</div>
      </div>
      <div class="stat-card">
        <img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food%20and%20Drink/Pie.webp?raw=true">
        <div class="stat-number">98%</div>
        <div class="stat-label">довольных клиентов</div>
      </div>
      <div class="stat-card">
        <img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food%20and%20Drink/Cupcake.webp?raw=true">
        <div class="stat-number">24/7</div>
        <div class="stat-label">доставка</div>
      </div>
    </div>

    <button class="catalog-btn" onclick="openCatalog()">В каталог</button>
    <div class="bottom-actions">
  <a href="https://t.me/your_username" class="action-btn telegram-btn">Telegram</a>
  <a href="https://instagram.com/your_username" class="action-btn instagram-btn">Instagram</a>
</div>
  </div>

  <!-- ВТОРОЙ ЭКРАН - КАТАЛОГ -->
  <div class="screen" id="catalogScreen">
    <div class="header">
      <img src="https://github.com/HuntersNetPlus/PvZ/blob/main/AV_1-ezgif.com-video-to-webp-converter.webp?raw=true">
    </div>

    <div class="faq-block">
      <div class="faq-content1">
        <img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Cupcake.webp?raw=true">
        Каталог тортов
      </div>
    </div>

    <div class="catalog-grid">
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Birthday%20Cake.webp?raw=true"><span>День рождения</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Wedding%20Cake.webp?raw=true"><span>Свадебные</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Chocolate%20Bar.webp?raw=true"><span>Шоколадные</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Shortcake.webp?raw=true"><span>Ягодные</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Ice%20Cream.webp?raw=true"><span>Детские</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Cookie.webp?raw=true"><span>Мини</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Doughnut.webp?raw=true"><span>Без сахара</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Honey%20Pot.webp?raw=true"><span>Медовые</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Pancakes.webp?raw=true"><span>Блинные</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Strawberry.webp?raw=true"><span>Клубничные</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Cherries.webp?raw=true"><span>Вишня</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Lollipop.webp?raw=true"><span>Декор</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Pie.webp?raw=true"><span>Домашние</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Candy.webp?raw=true"><span>Авторские</span></div>
      <div class="catalog-card"><img src="https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Croissant.webp?raw=true"><span>Французские</span></div>
    </div>

    <br>
     <div class="bottom-actions">
  <a href="https://t.me/your_username" class="action-btn telegram-btn">Telegram</a>
  <a href="https://instagram.com/your_username" class="action-btn instagram-btn">Instagram</a>
</div>
  </div>

  <!-- ТРЕТИЙ ЭКРАН - ОПИСАНИЕ ТОРТА -->
<!-- Третий экран -->
<div class="screen" id="cakeScreen">
  <div class="top-row">
  <button class="back-btn" onclick="backToCatalog()">Назад в каталог</button>
  <div class="cake-title faq-content1" id="cakeTitle"></div>
</div>


  <!-- ГАЛЕРЕЯ -->
  <div class="gallery-container">
    <div class="photo-stack" id="cakePhotoStack"></div>
  </div>

  <div class="faq-block">
    <div class="faq-content1" id="cakeDescription" style="text-align:left;"></div>
  </div>

  <a href="#" class="order-btn" id="orderBtn">Заказать</a>
</div>


</div>

<!-- Lightbox для галереи -->
<div id="cakeLightbox" class="cake-lightbox">
  <button class="cake-lightbox-arrow prev" onclick="changeCakeImage(-1)">‹</button>
  <div class="cake-lightbox-image-container">
    <img id="cakeLightboxImage" src="" alt="">
  </div>
  <button class="cake-lightbox-arrow next" onclick="changeCakeImage(1)">›</button>
</div>

</div> <!-- Конец app -->

<script>
const loader = document.getElementById("loader");
const cakeScreen = document.getElementById("cakeScreen");
const cakeTitle = document.getElementById("cakeTitle");
const cakeDescription = document.getElementById("cakeDescription");
const orderBtn = document.getElementById("orderBtn");

// Лоадер
function showLoader(){ loader.classList.add("active"); }
function hideLoader(){ loader.classList.remove("active"); }

// Первая загрузка
window.addEventListener("load", () => setTimeout(hideLoader, 1000));

// Открытие каталога
function openCatalog(){
  showLoader();
  setTimeout(()=>{
    document.getElementById("mainScreen").classList.remove("active");
    document.getElementById("catalogScreen").classList.add("active");
    hideLoader();
  },500);
}

// Массив всех 15 тортов
const cakes = [
  {
    name:"День рождения", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Birthday%20Cake.webp?raw=true", 
    shortDesc:"Тортик на день рождения с яркой глазурью и декором.", 
    ingredients:["Мука","Яйца","Сахар","Сливки","Фрукты"],
    preview: "https://images.unsplash.com/photo-1558636508-e0db3814bd1d?w=400",
    preview2: "https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1558636508-e0db3814bd1d?w=800",
      "https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?w=800",
      "https://images.unsplash.com/photo-1586985289688-ca3cf47d3e6e?w=800",
      "https://images.unsplash.com/photo-1557925923-33b27c8430b5?w=800"
    ]
  },
  {
    name:"Свадебные", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Wedding%20Cake.webp?raw=true", 
    shortDesc:"Элегантные свадебные торты на заказ.", 
    ingredients:["Белый бисквит","Крем-чиз","Ягоды"],
    preview: "https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=400",
    preview2: "https://images.unsplash.com/photo-1535254973040-607b474cb50d?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=800",
      "https://images.unsplash.com/photo-1535254973040-607b474cb50d?w=800",
      "https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=800"
    ]
  },
  {
    name:"Шоколадные", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Chocolate%20Bar.webp?raw=true", 
    shortDesc:"Насыщенные шоколадные торты для сладкоежек.", 
    ingredients:["Шоколад","Сливки","Сахар","Мука"],
    preview: "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",
    preview2: "https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800",
      "https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=800",
      "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=800"
    ]
  },
  {
    name:"Ягодные", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Shortcake.webp?raw=true", 
    shortDesc:"Торты с ягодами для летнего настроения.", 
    ingredients:["Ягоды","Мука","Сахар","Сливки"],
    preview: "https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=400",
    preview2: "https://images.unsplash.com/photo-1565661834013-d196ca46e14e?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=800",
      "https://images.unsplash.com/photo-1565661834013-d196ca46e14e?w=800",
      "https://images.unsplash.com/photo-1621303837174-89787a7d4729?w=800"
    ]
  },
  {
    name:"Детские", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Ice%20Cream.webp?raw=true", 
    shortDesc:"Яркие и вкусные тортики для детей.", 
    ingredients:["Мука","Яйца","Сахар","Красители","Фигурки"],
    preview: "https://images.unsplash.com/photo-1576171310776-839fef79b3eb?w=400",
    preview2: "https://images.unsplash.com/photo-1562440499-64c9a5656a28?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1576171310776-839fef79b3eb?w=800",
      "https://images.unsplash.com/photo-1562440499-64c9a5656a28?w=800",
      "https://images.unsplash.com/photo-1588195538326-c5b1e5b80c11?w=800"
    ]
  },
  {
    name:"Мини", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Cookie.webp?raw=true", 
    shortDesc:"Небольшие тортики на порцию.", 
    ingredients:["Мука","Сливки","Сахар","Фрукты"],
    preview: "https://images.unsplash.com/photo-1587241321921-91a834d82be7?w=400",
    preview2: "https://images.unsplash.com/photo-1603532648955-039310d9ed75?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1587241321921-91a834d82be7?w=800",
      "https://images.unsplash.com/photo-1603532648955-039310d9ed75?w=800",
      "https://images.unsplash.com/photo-1614707267537-b85aaf00c4b7?w=800"
    ]
  },
  {
    name:"Без сахара", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Doughnut.webp?raw=true", 
    shortDesc:"Для тех, кто следит за сахаром.", 
    ingredients:["Мука","Яйца","Сливки","Сахарозаменитель"],
    preview: "https://images.unsplash.com/photo-1607920591413-4ec007e70023?w=400",
    preview2: "https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1607920591413-4ec007e70023?w=800",
      "https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?w=800",
      "https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?w=800"
    ]
  },
  {
    name:"Медовые", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Honey%20Pot.webp?raw=true", 
    shortDesc:"Сладкие медовые торты.", 
    ingredients:["Мед","Мука","Сливки","Яйца"],
    preview: "https://images.unsplash.com/photo-1586985289688-ca3cf47d3e6e?w=400",
    preview2: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1586985289688-ca3cf47d3e6e?w=800",
      "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=800",
      "https://images.unsplash.com/photo-1557925923-33b27c8430b5?w=800"
    ]
  },
  {
    name:"Блинные", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Pancakes.webp?raw=true", 
    shortDesc:"Торты из блинчиков с начинкой.", 
    ingredients:["Блины","Сливки","Фрукты"],
    preview: "https://images.unsplash.com/photo-1565661834013-d196ca46e14e?w=400",
    preview2: "https://images.unsplash.com/photo-1621303837174-89787a7d4729?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1565661834013-d196ca46e14e?w=800",
      "https://images.unsplash.com/photo-1621303837174-89787a7d4729?w=800",
      "https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=800"
    ]
  },
  {
    name:"Клубничные", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Strawberry.webp?raw=true", 
    shortDesc:"Тортики с клубникой.", 
    ingredients:["Клубника","Мука","Сливки","Сахар"],
    preview: "https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=400",
    preview2: "https://images.unsplash.com/photo-1588195538326-c5b1e5b80c11?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=800",
      "https://images.unsplash.com/photo-1588195538326-c5b1e5b80c11?w=800",
      "https://images.unsplash.com/photo-1565661834013-d196ca46e14e?w=800"
    ]
  },
  {
    name:"Вишня", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Cherries.webp?raw=true", 
    shortDesc:"Вишневые торты с насыщенным вкусом.", 
    ingredients:["Вишня","Мука","Сливки","Сахар"],
    preview: "https://images.unsplash.com/photo-1621303837174-89787a7d4729?w=400",
    preview2: "https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1621303837174-89787a7d4729?w=800",
      "https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?w=800",
      "https://images.unsplash.com/photo-1565661834013-d196ca46e14e?w=800"
    ]
  },
  {
    name:"Декор", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Lollipop.webp?raw=true", 
    shortDesc:"Торты с красивым декором.", 
    ingredients:["Сахарная мастика","Красители","Крем","Украшения"],
    preview: "https://images.unsplash.com/photo-1562440499-64c9a5656a28?w=400",
    preview2: "https://images.unsplash.com/photo-1576171310776-839fef79b3eb?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1562440499-64c9a5656a28?w=800",
      "https://images.unsplash.com/photo-1576171310776-839fef79b3eb?w=800",
      "https://images.unsplash.com/photo-1588195538326-c5b1e5b80c11?w=800"
    ]
  },
  {
    name:"Домашние", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Pie.webp?raw=true", 
    shortDesc:"Торты как у бабушки дома.", 
    ingredients:["Мука","Яйца","Сахар","Сливки"],
    preview: "https://images.unsplash.com/photo-1557925923-33b27c8430b5?w=400",
    preview2: "https://images.unsplash.com/photo-1586985289688-ca3cf47d3e6e?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1557925923-33b27c8430b5?w=800",
      "https://images.unsplash.com/photo-1586985289688-ca3cf47d3e6e?w=800",
      "https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=800"
    ]
  },
  {
    name:"Авторские", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Candy.webp?raw=true", 
    shortDesc:"Уникальные торты по индивидуальному заказу.", 
    ingredients:["Мука","Яйца","Сахар","Крем","Фрукты"],
    preview: "https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=400",
    preview2: "https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=800",
      "https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=800",
      "https://images.unsplash.com/photo-1535254973040-607b474cb50d?w=800",
      "https://images.unsplash.com/photo-1558636508-e0db3814bd1d?w=800"
    ]
  },
  {
    name:"Французские", 
    img:"https://github.com/Tarikul-Islam-Anik/Telegram-Animated-Emojis/blob/main/Food/Croissant.webp?raw=true", 
    shortDesc:"Элегантные французские десерты.", 
    ingredients:["Мука","Яйца","Сливки","Шоколад"],
    preview: "https://images.unsplash.com/photo-1603532648955-039310d9ed75?w=400",
    preview2: "https://images.unsplash.com/photo-1587241321921-91a834d82be7?w=400",
    gallery: [
      "https://images.unsplash.com/photo-1603532648955-039310d9ed75?w=800",
      "https://images.unsplash.com/photo-1587241321921-91a834d82be7?w=800",
      "https://images.unsplash.com/photo-1614707267537-b85aaf00c4b7?w=800"
    ]
  }
];

// Открытие торта
function openCake(index){
  showLoader();
  setTimeout(()=>{
    document.getElementById("catalogScreen").classList.remove("active");
    cakeScreen.classList.add("active");

    const cake = cakes[index];
    cakeTitle.textContent = cake.name;
    
    // Создаем галерею ДО отображения описания
    currentCakeGallery = cake.gallery || [];
    createCakeStack(cake);

    let html = `<p>${cake.shortDesc}</p>`;
    if(cake.ingredients.length){
      html += "<p><strong>Ингредиенты:</strong></p><ul>";
      cake.ingredients.forEach(item=>{
        html += `<li>${item}</li>`;
      });
      html += "</ul>";
    }
    cakeDescription.innerHTML = html;

    orderBtn.href = "https://t.me/USERNAME?start="+encodeURIComponent(cake.name);
    hideLoader();
  },500);
}

// Назад в каталог
function backToCatalog(){
  showLoader();
  setTimeout(()=>{
    cakeScreen.classList.remove("active");
    document.getElementById("catalogScreen").classList.add("active");
    hideLoader();
  },500);
}

// Назначаем клик на карточки
document.querySelectorAll(".catalog-card").forEach((card,i)=>{
  card.addEventListener("click",()=>openCake(i));
});


// ===== ГАЛЕРЕЯ ТОРТОВ =====
var currentCakeGallery = [];
var currentCakeIndex = 0;

function createCakeStack(cake) {
  var stack = document.getElementById('cakePhotoStack');
  stack.innerHTML = '';
  
  if (!cake.gallery || cake.gallery.length === 0) {
    stack.style.display = 'none';
    return;
  }
  
  stack.style.display = 'block';
  
  var stackImages = [
    cake.gallery[2] || cake.gallery[0],
    cake.preview2 || cake.gallery[1] || cake.gallery[0],
    cake.preview || cake.gallery[0]
  ];
  
  for (var i = stackImages.length - 1; i >= 0; i--) {
    var item = document.createElement('div');
    item.className = 'photo-stack-item';
    
    var img = document.createElement('img');
    img.src = stackImages[i];
    img.alt = '';
    
    item.appendChild(img);
    stack.appendChild(item);
  }
  
  stack.onclick = function() { openCakeLightbox(0); };
}

function openCakeLightbox(index) {
  currentCakeIndex = index;
  var stack = document.getElementById('cakePhotoStack');
  var lightbox = document.getElementById('cakeLightbox');
  
  stack.classList.add('opening');
  
  setTimeout(function() {
    lightbox.classList.add('active');
    updateCakeLightbox();
  }, 250);
}

function closeCakeLightbox() {
  var stack = document.getElementById('cakePhotoStack');
  var lightbox = document.getElementById('cakeLightbox');
  
  lightbox.classList.remove('active');
  stack.classList.remove('opening');
  stack.classList.add('closing');
  
  setTimeout(function() {
    stack.classList.remove('closing');
  }, 10);
}

function changeCakeImage(direction) {
  currentCakeIndex += direction;
  if (currentCakeIndex < 0) currentCakeIndex = currentCakeGallery.length - 1;
  if (currentCakeIndex >= currentCakeGallery.length) currentCakeIndex = 0;
  updateCakeLightbox();
}

function updateCakeLightbox() {
  document.getElementById('cakeLightboxImage').src = currentCakeGallery[currentCakeIndex];
}

document.getElementById('cakeLightbox').addEventListener('click', function(e) {
  if (e.target === this) {
    closeCakeLightbox();
  }
});

document.getElementById('cakeLightboxImage').addEventListener('click', function(e) {
  e.stopPropagation();
});

document.addEventListener('keydown', function(e) {
  if (!document.getElementById('cakeLightbox').classList.contains('active')) return;
  
  if (e.key === 'Escape') closeCakeLightbox();
  if (e.key === 'ArrowLeft') changeCakeImage(-1);
  if (e.key === 'ArrowRight') changeCakeImage(1);
});

  
</script>
</body>
</html>
